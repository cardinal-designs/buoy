{%- if section.settings.link != blank -%}
  <a href="{{ section.settings.link }}" class="announcement-bar__link">
{%- endif -%}
  <div class="val-announce announcement-bar" {% if section.settings.background != blank %}style="background: {{ section.settings.background }};"{% endif %}  role="region" aria-label="{{ 'sections.header.announcement' | t }}" {{ section.shopify_attributes }}>
    {%- if section.settings.text != blank -%}
  
          <img class="hide-mobile" src="{{ section.settings.img | img_url: 'master' }}" width="28" height="28"/>
          <p class="hide-mobile announcement-bar__message body">
            {{ section.settings.text }}
          </p>
         <p class="hide-desktop announcement-bar__message body">
            {{ section.settings.mobile_text }}
          </p>
  
    {%- endif -%}
  </div>
{%- if section.settings.link != blank -%}
  </a>
{%- endif -%}

{% if section.settings.hide_mobile %}
<style>
@media screen and (max-width: 768px) {
  #shopify-section-announcement-bar {
    display: none;
  }
}
</style>
{% endif %}

{% schema %}
{
  "name": "Valentines Announcement",
  "settings": [
    {
      "type": "textarea",
      "id": "text",
      "default": "Welcome to our store",
      "label": "t:sections.announcement-bar.blocks.announcement.settings.text.label"
    },
        {
      "type": "textarea",
      "id": "mobile_text",
      "default": "Welcome to our store",
      "label": "Mobile Text"
    },
    {
      "type": "url",
      "id": "link",
      "label": "t:sections.announcement-bar.blocks.announcement.settings.link.label"
    },
    {
      "type": "image_picker",
      "id": "img",
      "label": "Image"
    },
    {
      "type": "checkbox",
      "id": "hide_mobile",
      "label": "Hide Announcement Bar on mobile?",
      "default": true
    },
    {
      "type": "color",
      "id": "background",
      "label": "Background Color (optional)"
    },
    {
      "type": "color",
      "id": "button_color",
      "label": "Button Color"
    },
    {
      "type": "color",
      "id": "button_text_color",
      "label": "Button Text Color"
    }
  ]
}
{% endschema %}
